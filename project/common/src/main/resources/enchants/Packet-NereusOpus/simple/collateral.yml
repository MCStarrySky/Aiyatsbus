

#         Powered by TabooLib 6.1         #


basic:
  id: collateral
  name: 穿心
  max_level: 2

rarity: 史诗

targets:
  - 弓

limitations:
  - "CONFLICT_ENCHANT:穿颅"

display:
  description:
    general: "箭矢伤害降低，但能够穿透盾牌和生物"
    specific: "&7箭矢伤害降低&a{减少量}&7，但能够无视盾牌并穿透生物&a{次数}"

variables:
  leveled:
    减少量: "%:20-5*{level}"
    次数: "次:{level}"

mechanisms:
  listeners:
    on-shoot-bow:
      listen: "entity-shoot-bow"
      handle: |-
        set &event[projectile.pierce-level] to type int &次数

    on-damage:
      listen: "entity-damage-by-entity"
      handle: |-
        set multiplier to type double &减少量
        set damage to &event[damage]
        set &event[damage] to math mul [ &damage math sub [ 1 math div [ &multiplier 100 ] ] ]